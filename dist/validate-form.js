!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["validate-form"]=t():e["validate-form"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseType=["string","number","boolean","object","array","function"],t.baseTypeFunc={isString:function(e){return"[object String]"===Object.prototype.toString.call(e)&&e.length>0},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.baseType=n.baseType,this.baseTypeFunc=n.baseTypeFunc,this.rules=e,this.outputType=t.outputType||"normal",this.errorTxt="",this.errorTxtArray=[],this.mode=t.mode||"all"};o.prototype={validate:function(e,t){var r=this;if(!this.$validateDataOfBaseType("object",e))throw new Error("数据格式不正确");var n=!1,o=!t&&"normal"===this.outputType;this.errorTxt="",this.errorTxtArray=[];var i=this.mode;Object.keys(this.rules).some(function(t){var u=r.rules[t],a=e[t],c=r.$getEmptyErrorPrompt(t);return(!r.$isNull(a)||"portion"!==i)&&(u.some(function(e){var t=r.$checkIsEmpty(a),i=e.error,u=e.require,s=e.type,l=e.func,f=e.min,p=e.max,b=!0;if(c=i||c,u||!t){var y=r.$getType(s);if(y){if(r.$checkIsBaseType(y)){var d=!1;if(r.$validateDataOfBaseType(y,a)||(d=!0),!d&&("string"===y||"number"===y)&&(f||p))if("string"===y){var v=a.length;d=r.$validateStringValue(v,f,p)}else"number"===y&&(d=r.$validateNumberValue(a,f,p));d&&(n=!0,b=!1,r.$addErrorTxt(c,o))}}else{var T="";l?T=l(a):t&&(T=c),T&&(n=!0,b=!1,r.$addErrorTxt(T||c,o))}}return!b}),!!o&&(!!n||void 0))});var u=o?this.errorTxt:this.errorTxtArray;return{isSuccess:o?!u:!u.length,errorTxt:u}},$checkIsEmpty:function(e){return!(e||0===e)},$isNull:function(e){return null===e||void 0===e},$checkIsBaseType:function(e){return this.baseType.includes(e)},$getEmptyErrorPrompt:function(e){return e+" 不能为空"},$validateDataOfBaseType:function(e,t){var r="";switch(e){case"string":r=n.baseTypeFunc.isString(t);break;case"boolean":r=n.baseTypeFunc.isBoolean(t);break;case"number":r=n.baseTypeFunc.isNumber(t);break;case"object":r=n.baseTypeFunc.isObject(t);break;case"array":r=n.baseTypeFunc.isArray(t);break;default:r=n.baseTypeFunc.isFunction(t)}return r},$addErrorTxt:function(e,t){t?this.errorTxt=e:this.errorTxtArray.push(e)},$getType:function(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1].toLocaleLowerCase():""},$validateStringValue:function(e,t,r){var n=!1;return t&&r?(e<t||e>r)&&(n=!0):t?e<t&&(n=!0):r&&e>r&&(n=!0),n},$validateNumberValue:function(e,t,r){var n=!1;return t&&r?(e<t||e>r)&&(n=!0):t?e<t&&(n=!0):r&&e>r&&(n=!0),n},setRules:function(e){this.rules=e}},t.default=o}]).default});